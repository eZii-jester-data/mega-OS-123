{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport * as THREE from 'three';\nimport { Interaction } from 'three.interaction';\nimport { OrbitControls } from '../kmz/jsm/controls/OrbitControls.js';\nimport GltfLoadAnimatedObject from '../eZii-bricklayer-game/gltf-load-animated-object.js';\n\nvar EZIIBrickLayerGameMain =\n/*#__PURE__*/\nfunction () {\n  function EZIIBrickLayerGameMain() {\n    _classCallCheck(this, EZIIBrickLayerGameMain);\n\n    this.mixers = {};\n    this.scene = undefined;\n    this.cubes = [];\n    this.docking = undefined;\n    this.camera = undefined;\n    this.renderer = undefined;\n    this.controls = undefined;\n    this.clock = new THREE.Clock();\n    this.rayCaster = new THREE.Raycaster();\n    this.mousePosition = new THREE.Vector2();\n  }\n\n  _createClass(EZIIBrickLayerGameMain, [{\n    key: \"every10MilliSeconds\",\n    value: function every10MilliSeconds(callback) {\n      setTimeout(callback, 10);\n    }\n  }, {\n    key: \"findDomDockingPoint\",\n    value: function findDomDockingPoint() {\n      var _this = this;\n\n      var promise = new Promise(function (resolve, reject) {\n        var notFound = true;\n        var i = 0;\n\n        while (notFound) {\n          _this.docking = document.body.querySelector('#docking-point-for-threejs');\n\n          if (!_this.docking) {\n            i++;\n\n            if (i < 40) {\n              continue;\n            } else {\n              reject(\"couldn't find element with id docking-point-for-threejs\");\n            }\n\n            ;\n          } else {\n            resolve();\n            notFound = false;\n          }\n        }\n      });\n      return promise;\n    }\n  }, {\n    key: \"init\",\n    value: function init() {\n      this.scene = new THREE.Scene();\n      var geometry = new THREE.BoxGeometry(100, 100, 10);\n      var material = new THREE.MeshBasicMaterial({\n        color: 0x00ff00\n      }); // ยง\n\n      this.cubes.push(new THREE.Mesh(geometry, material));\n      this.scene.add(this.cubes[0]);\n      var geometry2 = new THREE.BoxGeometry(100, 100, 10);\n      var material2 = new THREE.MeshBasicMaterial({\n        color: 0x0000ff\n      }); // ยง\n\n      this.cubes.push(new THREE.Mesh(geometry2, material2));\n      this.scene.add(this.cubes[1]);\n      this.scene.background = new THREE.Color(0x999999);\n      var light = new THREE.DirectionalLight(0xffffff);\n      light.position.set(0.5, 1.0, 0.5).normalize();\n      this.scene.add(light);\n      this.camera = new THREE.PerspectiveCamera(35, this.docking.clientWidth / this.docking.clientHeight, 1, 500);\n      this.camera.position.y = 5;\n      this.camera.position.z = 10;\n      this.scene.add(this.camera);\n      this.grid = new THREE.GridHelper(1000, 1000, 0xffffff, 0x555555);\n      this.scene.add(this.grid);\n      this.renderer = new THREE.WebGLRenderer({\n        antialias: true\n      });\n      this.renderer.setPixelRatio(window.devicePixelRatio);\n      this.renderer.setSize(this.docking.clientWidth, this.docking.clientHeight);\n      this.canvas = this.renderer.domElement;\n      this.docking.appendChild(this.canvas);\n      this.canvasPosition = $(this.canvas).position();\n      this.interaction = new Interaction(this.renderer, this.scene, this.camera);\n      this.controls = new OrbitControls(this.camera, this.renderer.domElement); // controls.addEventListener( 'change', render );\n\n      this.controls.update();\n      window.addEventListener('resize', this.onWindowResize, false);\n    }\n  }, {\n    key: \"onWindowResize\",\n    value: function onWindowResize() {\n      this.camera.aspect = this.docking.clientWidth / this.docking.clientHeight;\n      this.camera.updateProjectionMatrix();\n      this.renderer.setSize(this.docking.clientWidth, this.docking.clientHeight);\n      this.render();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      this.renderer.render(this.scene, this.camera);\n    }\n  }, {\n    key: \"moveObjectZAxis\",\n    value: function moveObjectZAxis(object) {\n      object.position.z += 10;\n    }\n  }, {\n    key: \"addObject\",\n    value: function () {\n      var _addObject = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2(id) {\n        var loadObject, promise;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                loadObject = new GltfLoadAnimatedObject(this.scene);\n                promise = new Promise(\n                /*#__PURE__*/\n                function () {\n                  var _ref = _asyncToGenerator(\n                  /*#__PURE__*/\n                  _regeneratorRuntime.mark(function _callee(resolve, reject) {\n                    var _ref2, _ref3, object, mixer;\n\n                    return _regeneratorRuntime.wrap(function _callee$(_context) {\n                      while (1) {\n                        switch (_context.prev = _context.next) {\n                          case 0:\n                            _context.next = 2;\n                            return loadObject.addObject(id);\n\n                          case 2:\n                            _ref2 = _context.sent;\n                            _ref3 = _slicedToArray(_ref2, 2);\n                            object = _ref3[0];\n                            mixer = _ref3[1];\n                            resolve([object, mixer, id]);\n\n                          case 7:\n                          case \"end\":\n                            return _context.stop();\n                        }\n                      }\n                    }, _callee);\n                  }));\n\n                  return function (_x2, _x3) {\n                    return _ref.apply(this, arguments);\n                  };\n                }());\n                return _context2.abrupt(\"return\", promise);\n\n              case 3:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function addObject(_x) {\n        return _addObject.apply(this, arguments);\n      }\n\n      return addObject;\n    }()\n  }, {\n    key: \"animate\",\n    value: function animate(id) {\n      var _this2 = this;\n\n      // debugger;\n      requestAnimationFrame(function () {\n        _this2.animate.bind(_this2)(id);\n      });\n      if (this.mixers[id]) this.mixers[id].update(this.clock.getDelta());\n      this.controls.update();\n      this.render();\n    } //\n    // getClicked3DPoint(evt) {\n    //     evt.preventDefault();\n    //\n    //     this.mousePosition.x = ((evt.clientX - this.canvasPosition.left) / this.docking.width) * 2 - 1;\n    //     this.mousePosition.y = -((evt.clientY - this.canvasPosition.top) / this.docking.height) * 2 + 1;\n    //\n    //     this.rayCaster.setFromCamera(this.mousePosition, this.camera);\n    // \tdebugger;\n    //     var intersects = this.rayCaster.intersectObjects(this.cubes, true);\n    //\n    //     if (intersects.length > 0)\n    //         return intersects[0].point;\n    // };\n\n  }]);\n\n  return EZIIBrickLayerGameMain;\n}();\n\nexport { EZIIBrickLayerGameMain as default };","map":{"version":3,"sources":["/Users/lemonandroid/Banal Dropbox/random/mega-os/ezii-os/app/javascript/packs/eZii-bricklayer-game/main.js"],"names":["THREE","Interaction","OrbitControls","GltfLoadAnimatedObject","EZIIBrickLayerGameMain","mixers","scene","undefined","cubes","docking","camera","renderer","controls","clock","Clock","rayCaster","Raycaster","mousePosition","Vector2","callback","setTimeout","promise","Promise","resolve","reject","notFound","i","document","body","querySelector","Scene","geometry","BoxGeometry","material","MeshBasicMaterial","color","push","Mesh","add","geometry2","material2","background","Color","light","DirectionalLight","position","set","normalize","PerspectiveCamera","clientWidth","clientHeight","y","z","grid","GridHelper","WebGLRenderer","antialias","setPixelRatio","window","devicePixelRatio","setSize","canvas","domElement","appendChild","canvasPosition","$","interaction","update","addEventListener","onWindowResize","aspect","updateProjectionMatrix","render","object","id","loadObject","addObject","mixer","requestAnimationFrame","animate","bind","getDelta"],"mappings":"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","sourcesContent":["import * as THREE from 'three';\nimport { Interaction } from 'three.interaction';\n\nimport { OrbitControls } from '../kmz/jsm/controls/OrbitControls.js';\nimport GltfLoadAnimatedObject from '../eZii-bricklayer-game/gltf-load-animated-object.js';\n\nexport default class EZIIBrickLayerGameMain {\n\tconstructor() {\n\t\tthis.mixers = {};\n\t\tthis.scene = undefined;\n\t\tthis.cubes = [];\n\t\tthis.docking = undefined;\n\t\tthis.camera = undefined;\n\t\tthis.renderer = undefined;\n\t\tthis.controls = undefined;\n\t\tthis.clock = new THREE.Clock();\n\t\t\n\t    this.rayCaster = new THREE.Raycaster();\n\t    this.mousePosition = new THREE.Vector2();\n\t\t\n\t}\n\t\n\t\n\tevery10MilliSeconds(callback) {\n\t\tsetTimeout(callback, 10);\n\t}\n\t\n\t\n\tfindDomDockingPoint() {\n\t\tvar promise = new Promise((resolve, reject) => {\n\t\t\tvar notFound = true;\n\t\t\tvar i = 0;\n\t\t\twhile(notFound) {\n\t\t\t\tthis.docking = document.body.querySelector('#docking-point-for-threejs');\n\t\t\t\tif(!this.docking) {\n\t\t\t\t\ti++;\n\t\t\t\t\tif (i < 40) { continue } else { reject(\"couldn't find element with id docking-point-for-threejs\") };\n\t\t\t\t} else {\n\t\t\t\t\t\n\t\t\t\t\tresolve();\n\t\t\t\t\tnotFound = false;\n\t\t\t\t}\n\t\t\t}\t\t\n\t\t});\n\t\t\n\t\treturn promise;\n\t}\n\t\n\t\n\tinit() {\n\n\t\tthis.scene = new THREE.Scene();\n\t\n\t\tvar geometry = new THREE.BoxGeometry( 100, 100, 10 );\n\t\tvar material = new THREE.MeshBasicMaterial( {color: 0x00ff00} );\n\t\n\t\t// ยง\n\t\tthis.cubes.push(new THREE.Mesh( geometry, material ));\n\t\tthis.scene.add( this.cubes[0] );\n\t\n\t\tvar geometry2 = new THREE.BoxGeometry( 100, 100, 10 );\n\t\tvar material2 = new THREE.MeshBasicMaterial( {color: 0x0000ff} );\n\t\n\t\t// ยง\n\t\tthis.cubes.push(new THREE.Mesh( geometry2, material2 ));\n\t\tthis.scene.add( this.cubes[1] );\n\t\n\t\tthis.scene.background = new THREE.Color( 0x999999 );\n\t\tvar light = new THREE.DirectionalLight( 0xffffff );\n\t\tlight.position.set( 0.5, 1.0, 0.5 ).normalize();\n\t\tthis.scene.add( light );\n\t\tthis.camera = new THREE.PerspectiveCamera( 35, this.docking.clientWidth / this.docking.clientHeight, 1, 500 );\n\t\tthis.camera.position.y = 5;\n\t\tthis.camera.position.z = 10;\n\t\tthis.scene.add( this.camera );\n\t\tthis.grid = new THREE.GridHelper( 1000, 1000, 0xffffff, 0x555555 );\n\t\tthis.scene.add( this.grid );\n\t\tthis.renderer = new THREE.WebGLRenderer( { antialias: true } );\n\t\tthis.renderer.setPixelRatio( window.devicePixelRatio );\n\t\tthis.renderer.setSize( this.docking.clientWidth, this.docking.clientHeight );\n\t\tthis.canvas = this.renderer.domElement;\n\t\t\n\t\tthis.docking.appendChild( this.canvas );\n\t\t\n\t\tthis.canvasPosition = $(this.canvas).position(); \n\t\n\t\n\t\tthis.interaction = new Interaction(this.renderer, this.scene, this.camera);\n\t\n\t    this.controls = new OrbitControls( this.camera, this.renderer.domElement );\n\t\t// controls.addEventListener( 'change', render );\n\t\tthis.controls.update();\n\t\twindow.addEventListener( 'resize', this.onWindowResize, false );\n\t}\n\t\n\n\n\n\n\tonWindowResize() {\n\t\tthis.camera.aspect = this.docking.clientWidth / this.docking.clientHeight;\n\t\tthis.camera.updateProjectionMatrix();\n\t\tthis.renderer.setSize( this.docking.clientWidth, this.docking.clientHeight );\n\t\tthis.render();\n\t}\n\t\n\t\n\t\n\trender() {\n\t\tthis.renderer.render( this.scene, this.camera );\n\t}\n\t\n\t\n\n\n\tmoveObjectZAxis(object) {\n\t\tobject.position.z += 10;\n\t}\n\t\n\t\n\n\n\tasync addObject(id) {\t\n\t\tvar loadObject = new GltfLoadAnimatedObject(this.scene)\n\t\t\n\t\tlet promise = new Promise(async function(resolve, reject) {\n\t\t\tlet [object, mixer] = await loadObject.addObject(id);\n\t\t\tresolve([object, mixer, id])\n\n\t\t});\n\t\t\n\t\treturn promise;\n\t}\n\t\n\t\n\t\n\tanimate(id) {\n\t\t// debugger;\n\t\t\t\trequestAnimationFrame( () => { this.animate.bind(this)(id) } );\n\t\t\t\tif ( this.mixers[id] ) this.mixers[id].update( this.clock.getDelta() );\n\t\t\t\tthis.controls.update();\n\t\t\t\tthis.render();\n\t}\n\t\n\t//\n\t// getClicked3DPoint(evt) {\n\t//     evt.preventDefault();\n\t//\n\t//     this.mousePosition.x = ((evt.clientX - this.canvasPosition.left) / this.docking.width) * 2 - 1;\n\t//     this.mousePosition.y = -((evt.clientY - this.canvasPosition.top) / this.docking.height) * 2 + 1;\n\t//\n\t//     this.rayCaster.setFromCamera(this.mousePosition, this.camera);\n\t// \tdebugger;\n\t//     var intersects = this.rayCaster.intersectObjects(this.cubes, true);\n\t//\n\t//     if (intersects.length > 0)\n\t//         return intersects[0].point;\n\t// };\n\t\n}"]},"metadata":{},"sourceType":"module"}