{"ast":null,"code":"function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport * as THREE from 'three'; // use of \"test\" strings signals this is unfinished\n\nvar Fountain =\n/*#__PURE__*/\nfunction () {\n  function Fountain(fountainContext) {\n    _classCallCheck(this, Fountain);\n\n    this.fountainContext = fountainContext;\n  }\n\n  _createClass(Fountain, [{\n    key: \"aroundFountain\",\n    value: function aroundFountain(fn) {\n      this.fountainContext.aroundFountain(this, this.caller, function () {\n        fn.call(); // a \"fountainGetter()\" call in this .call, should always return this fountain, how?\n      });\n    }\n  }]);\n\n  return Fountain;\n}();\n\nvar FountainContext =\n/*#__PURE__*/\nfunction () {\n  function FountainContext() {\n    _classCallCheck(this, FountainContext);\n\n    this.fountains = {};\n    this.fountainsForCallerId = {};\n  }\n\n  _createClass(FountainContext, [{\n    key: \"fountainGetter\",\n    value: function fountainGetter() {\n      var identifier = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : undefined;\n\n      if (identifier !== undefined) {\n        this.fountains[identifier] = new Fountain(this);\n        return this.fountains[identifier];\n      } else {\n        console.warn(this.caller);\n        return this.fountainsForCallerId['test'];\n      }\n    }\n  }, {\n    key: \"aroundFountain\",\n    value: function aroundFountain(fountain, caller, fn) {\n      console.warn(caller);\n      this.fountainsForCallerId['test'] = fountain;\n      fn.call();\n      delete this.fountainsForCallerId['test'];\n    }\n  }]);\n\n  return FountainContext;\n}();\n\nfunction fountainContext(fun) {\n  var fountainContext = new FountainContext();\n  return fun(fountainContext.fountainGetter.bind(fountainContext));\n}\n\nvar EZII3DStickMan = fountainContext(function (fountainGetter) {\n  var EZII3DCuboid =\n  /*#__PURE__*/\n  function () {\n    function EZII3DCuboid(width, height, depth, skipAddingToScene) {\n      _classCallCheck(this, EZII3DCuboid);\n\n      this.width = void 0;\n      this.height = void 0;\n      this.depth = void 0;\n      this.width = width;\n      this.height = height;\n      this.depth = depth;\n      this.skipAddingToScene;\n      this.renderInitially();\n    }\n\n    _createClass(EZII3DCuboid, [{\n      key: \"renderInitially\",\n      value: function renderInitially() {\n        var threeJsScene = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : window.threeJsScene;\n        var skipAddingToScene = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.skipAddingToScene;\n        var geometry = new THREE.BoxGeometry(this.width, this.height, this.depth);\n        var material = new THREE.MeshBasicMaterial({\n          color: 0x00ff00\n        });\n        var cuboid = new THREE.Mesh(geometry, material);\n\n        if (!skipAddingToScene) {\n          // threeJsScene.add( cuboid );\n          var fountain = fountainGetter();\n          fountain.eZii3dStickManThreeJsGroup.add(cuboid);\n        }\n\n        this.threeJsMesh = cuboid;\n      }\n    }]);\n\n    return EZII3DCuboid;\n  }();\n\n  var EZII3DStickMan =\n  /*#__PURE__*/\n  function () {\n    function EZII3DStickMan() {\n      var _this = this;\n\n      _classCallCheck(this, EZII3DStickMan);\n\n      var fountain = fountainGetter('test123');\n      fountain.eZii3dStickManThreeJsGroup = new THREE.Group();\n      this.eZii3dStickManThreeJsGroup = fountain.eZii3dStickManThreeJsGroup;\n      fountain.aroundFountain(function () {\n        _this.torso = new EZII3DStickManTorso();\n      });\n      window.threeJsScene.add(fountain.eZii3dStickManThreeJsGroup);\n      this.positionInitially();\n      window.threeJsScene.remove(fountain.eZii3dStickManThreeJsGroup);\n    }\n\n    _createClass(EZII3DStickMan, [{\n      key: \"show\",\n      value: function show(position) {\n        this.eZii3dStickManThreeJsGroup.position.x = position.x;\n        this.eZii3dStickManThreeJsGroup.position.y = position.y + 20; // stick man should appear a bit higher on the y axis than the green small character\n\n        this.eZii3dStickManThreeJsGroup.position.z = position.z;\n        window.threeJsScene.add(this.eZii3dStickManThreeJsGroup);\n      }\n    }, {\n      key: \"positionInitially\",\n      value: function positionInitially() {\n        this.torso.head.eZii3dCuboid.threeJsMesh.position.y = 20;\n        this.torso.eZii3dCuboid.threeJsMesh.position.y = -30;\n        this.torso.arms.leftShoulderHolder.eZii3dCuboid.threeJsMesh.position.x = -30;\n        this.torso.arms.leftArm.eZii3dCuboid.threeJsMesh.position.y = -50;\n        this.torso.arms.leftArm.eZii3dCuboid.threeJsMesh.position.x = -30;\n        this.torso.arms.rightShoulderHolder.eZii3dCuboid.threeJsMesh.position.x = +30;\n        this.torso.arms.rightArm.eZii3dCuboid.threeJsMesh.position.y = -50;\n        this.torso.arms.rightArm.eZii3dCuboid.threeJsMesh.position.x = 30;\n        this.torso.legs.leftLeg.eZii3dCuboid.threeJsMesh.position.y = -150;\n        this.torso.legs.leftLeg.eZii3dCuboid.threeJsMesh.position.x = -20;\n        this.torso.legs.rightLeg.eZii3dCuboid.threeJsMesh.position.y = -150;\n        this.torso.legs.rightLeg.eZii3dCuboid.threeJsMesh.position.x = 20;\n        this.torso.arms.leftArm.position(-1); // x ddirection is given\n\n        this.torso.arms.rightArm.position(+1); // x ddirection is given\n      }\n    }]);\n\n    return EZII3DStickMan;\n  }();\n\n  var EZII3DStickManHead = function EZII3DStickManHead() {\n    _classCallCheck(this, EZII3DStickManHead);\n\n    this.eZii3dCuboid = new EZII3DCuboid(10, 20, 10);\n  };\n\n  var EZII3DStickManTorso = function EZII3DStickManTorso() {\n    _classCallCheck(this, EZII3DStickManTorso);\n\n    this.eZii3dCuboid = new EZII3DCuboid(42, 70, 10);\n    this.head = new EZII3DStickManHead();\n    this.arms = new EZII3DStickManArms();\n    this.legs = new EZII3DStickManLegs();\n  };\n\n  var EZII3DStickManArms = function EZII3DStickManArms() {\n    _classCallCheck(this, EZII3DStickManArms);\n\n    this.leftArm = new EZII3DStickManArm();\n    this.rightArm = new EZII3DStickManArm();\n    this.rightShoulderHolder = new EZII3DStickManShoulderHolder();\n    this.leftShoulderHolder = new EZII3DStickManShoulderHolder();\n  };\n\n  var EZII3DStickManShoulderHolder = function EZII3DStickManShoulderHolder() {\n    _classCallCheck(this, EZII3DStickManShoulderHolder);\n\n    this.eZii3dCuboid = new EZII3DCuboid(10, 10, 10);\n  };\n\n  var EZII3DStickManLegs = function EZII3DStickManLegs() {\n    _classCallCheck(this, EZII3DStickManLegs);\n\n    this.leftLeg = new EZII3DStickManLeg();\n    this.rightLeg = new EZII3DStickManLeg();\n  };\n\n  var EZII3DStickManLeg = function EZII3DStickManLeg() {\n    _classCallCheck(this, EZII3DStickManLeg);\n\n    this.eZii3dCuboid = new EZII3DCuboid(15, 100, 10);\n  };\n\n  var EZII3DStickManArm =\n  /*#__PURE__*/\n  function () {\n    _createClass(EZII3DStickManArm, [{\n      key: \"tiltUpwards\",\n      value: function tiltUpwards() {\n        this.eZii3dGroup.rotateX(1);\n      }\n    }, {\n      key: \"tiltDownwards\",\n      value: function tiltDownwards() {\n        this.eZii3dGroup.rotateX(-1); // window.currentlySelectedObject.position.z += 20;\n      }\n    }, {\n      key: \"beforeFinishedRendering\",\n      value: function beforeFinishedRendering() {\n        this.shoulderSphere.threeJsMesh.material.color.setHex(0xff0000);\n        this.eZii3dGroup.add(this.eZii3dCuboid.threeJsMesh);\n        this.eZii3dGroup.add(this.shoulderSphere.threeJsMesh);\n        var fountain = fountainGetter();\n        fountain.eZii3dStickManThreeJsGroup.add(this.eZii3dGroup);\n      }\n    }, {\n      key: \"position\",\n      value: function position(xDirection) {\n        // positioning of arms is done in the 3dStickMaan class atm [ƒ: position()]\n        this.shoulderSphere.threeJsMesh.position.x += 30 * xDirection;\n      }\n    }]);\n\n    function EZII3DStickManArm() {\n      _classCallCheck(this, EZII3DStickManArm);\n\n      this.eZii3dCuboid = new EZII3DCuboid(10, 75, 7, true);\n      this.shoulderSphere = new EZII3DCuboid(10, 10, 10, true);\n      this.eZii3dGroup = new THREE.Group();\n      this.threeJsScene = window.threeJsScene; // ladder((main) => { this.threeJsScene = main.scene }\n\n      this.beforeFinishedRendering();\n      this.addClickHandler();\n    }\n\n    _createClass(EZII3DStickManArm, [{\n      key: \"addClickHandler\",\n      value: function addClickHandler() {\n        var _this2 = this;\n\n        this.eZii3dCuboid.threeJsMesh.on('click', function (evt) {\n          // alert('test');\n          window.currentlySelectedObject = _this2;\n\n          _this2.eZii3dCuboid.threeJsMesh.material.color.setHex(0x0000ff);\n        });\n      }\n    }]);\n\n    return EZII3DStickManArm;\n  }();\n\n  return EZII3DStickMan;\n});\nexport default EZII3DStickMan;","map":{"version":3,"sources":["/Users/lemonandroid/Banal Dropbox/random/mega-os/ezii-os/app/javascript/packs/eZii-bricklayer-game/3d-stick-man.js.erb"],"names":["THREE","Fountain","fountainContext","fn","aroundFountain","caller","call","FountainContext","fountains","fountainsForCallerId","identifier","undefined","console","warn","fountain","fun","fountainGetter","bind","EZII3DStickMan","EZII3DCuboid","width","height","depth","skipAddingToScene","renderInitially","threeJsScene","window","geometry","BoxGeometry","material","MeshBasicMaterial","color","cuboid","Mesh","eZii3dStickManThreeJsGroup","add","threeJsMesh","Group","torso","EZII3DStickManTorso","positionInitially","remove","position","x","y","z","head","eZii3dCuboid","arms","leftShoulderHolder","leftArm","rightShoulderHolder","rightArm","legs","leftLeg","rightLeg","EZII3DStickManHead","EZII3DStickManArms","EZII3DStickManLegs","EZII3DStickManArm","EZII3DStickManShoulderHolder","EZII3DStickManLeg","eZii3dGroup","rotateX","shoulderSphere","setHex","xDirection","beforeFinishedRendering","addClickHandler","on","evt","currentlySelectedObject"],"mappings":"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","sourcesContent":["import * as THREE from 'three';\n\n\n// use of \"test\" strings signals this is unfinished\nclass Fountain {\n\tconstructor(fountainContext) {\n\t\tthis.fountainContext = fountainContext;\n\t}\n\t\n\taroundFountain(fn) {\n\t\tthis.fountainContext.aroundFountain(this, this.caller, () => {\n\t\t\tfn.call(); // a \"fountainGetter()\" call in this .call, should always return this fountain, how?\n\t\t})\n\t}\n}\n\n\nclass FountainContext {\n\tfountains = {}\n\tfountainsForCallerId = {}\n\t\n\t\n\tfountainGetter(identifier = undefined) {\n\t\tif(identifier !== undefined) {\n\t\t\tthis.fountains[identifier] = new Fountain(this);\n\t\t\treturn this.fountains[identifier];\n\t\t} else {\n\t\t\tconsole.warn(this.caller);\n\t\t\treturn this.fountainsForCallerId['test'];\n\t\t}\n\t}\n\t\n\taroundFountain(fountain, caller, fn) {\n\t\tconsole.warn(caller);\n\t\tthis.fountainsForCallerId['test'] = fountain;\n\t\tfn.call();\n\t\tdelete this.fountainsForCallerId['test'];\n\t}\n}\n\n\nfunction fountainContext(fun) {\n\tconst fountainContext = new FountainContext();\n\treturn fun(fountainContext.fountainGetter.bind(fountainContext));\n}\n\n\nconst EZII3DStickMan = fountainContext(function(fountainGetter) {\n\n\n\tclass EZII3DCuboid {\n\t\twidth;\n\t\theight;\n\t\tdepth;\n\t\n\t    constructor(width, height, depth, skipAddingToScene) {    \n\t      this.width = width;\n\t      this.height = height;\n\t\t  this.depth = depth;\n\t  \n\t\t  this.skipAddingToScene;\n\t  \n\t\t  this.renderInitially()\n\t    }\n\t\n\t\n\t\trenderInitially(threeJsScene = window.threeJsScene, skipAddingToScene = this.skipAddingToScene) {\n\t\t\tvar geometry = new THREE.BoxGeometry( this.width, this.height, this.depth );\n\t\t\tvar material = new THREE.MeshBasicMaterial( {color: 0x00ff00} );\n\t\t\n\t\t\tlet cuboid = new THREE.Mesh( geometry, material );\n\t\t\n\t\t\n\t\t\tif(!skipAddingToScene) { \n\t\t\t\t// threeJsScene.add( cuboid );\n\t\t\t\t\n\t\t\t\tlet fountain = fountainGetter();\n\t\t\t\t\n\t\t\t\tfountain.eZii3dStickManThreeJsGroup.add(cuboid);\n\t\t\t}\n\t\t\n\t\t\n\t\t\tthis.threeJsMesh = cuboid; \n\t\t}\n\t}\n\n\tclass EZII3DStickMan {\n\t\n\t\tconstructor() {\n\t\t\tlet fountain = fountainGetter('test123');\n\t\t\t\n\t\t\t\n\t\t\tfountain.eZii3dStickManThreeJsGroup = new THREE.Group();\n\t\t\t\n\t\t\tthis.eZii3dStickManThreeJsGroup = fountain.eZii3dStickManThreeJsGroup;\n\t\t\t\n\t\t\tfountain.aroundFountain(() => {\n\t\t\t\tthis.torso = new EZII3DStickManTorso();\n\t\t\t})\n\t\t\t\n\t\t\twindow.threeJsScene.add(fountain.eZii3dStickManThreeJsGroup);\n\t\t\t\n\t\t\tthis.positionInitially();\n\t\t\t\n\t\t\twindow.threeJsScene.remove(fountain.eZii3dStickManThreeJsGroup);\n\t\t}\n\t\t\n\t\t\n\t\tshow(position) {\n\t\t\tthis.eZii3dStickManThreeJsGroup.position.x = position.x;\n\t\t\tthis.eZii3dStickManThreeJsGroup.position.y = position.y + 20; // stick man should appear a bit higher on the y axis than the green small character\n\t\t\tthis.eZii3dStickManThreeJsGroup.position.z = position.z;\n\t\t\t\n\t\t\t\n\t\t\twindow.threeJsScene.add(this.eZii3dStickManThreeJsGroup);\n\t\t}\n\t\n\t\tpositionInitially() {\n\t\t\tthis.torso.head.eZii3dCuboid.threeJsMesh.position.y = 20;\n\t\t\tthis.torso.eZii3dCuboid.threeJsMesh.position.y = -30;\n\t\t\n\t\t\n\t\t\tthis.torso.arms.leftShoulderHolder.eZii3dCuboid.threeJsMesh.position.x = -30;\n\t\t\n\t\t\tthis.torso.arms.leftArm.eZii3dCuboid.threeJsMesh.position.y = -50;\n\t\t\tthis.torso.arms.leftArm.eZii3dCuboid.threeJsMesh.position.x = -30;\n\t\t\n\t\t\n\t\t\tthis.torso.arms.rightShoulderHolder.eZii3dCuboid.threeJsMesh.position.x = +30;\n\t\t\n\t\t\tthis.torso.arms.rightArm.eZii3dCuboid.threeJsMesh.position.y = -50;\n\t\t\tthis.torso.arms.rightArm.eZii3dCuboid.threeJsMesh.position.x = 30;\n\t\t\n\t\t\n\t\t\tthis.torso.legs.leftLeg.eZii3dCuboid.threeJsMesh.position.y = -150;\n\t\t\tthis.torso.legs.leftLeg.eZii3dCuboid.threeJsMesh.position.x = -20;\n\t\t\n\t\t\tthis.torso.legs.rightLeg.eZii3dCuboid.threeJsMesh.position.y = -150;\n\t\t\tthis.torso.legs.rightLeg.eZii3dCuboid.threeJsMesh.position.x = 20;\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\tthis.torso.arms.leftArm.position(-1); // x ddirection is given\n\t\t\tthis.torso.arms.rightArm.position(+1); // x ddirection is given\n\t\t}\n\t}\n\n\n\n\tclass EZII3DStickManHead {\n\t\teZii3dCuboid = new EZII3DCuboid(10, 20, 10);\n\t}\n\n\n\tclass EZII3DStickManTorso {\n\t\teZii3dCuboid = new EZII3DCuboid(42\t, 70, 10);\n\t\thead = new EZII3DStickManHead();\n\t\tarms = new EZII3DStickManArms();\n\t\tlegs = new EZII3DStickManLegs();\n\t}\n\n\n\tclass EZII3DStickManArms {\n\t\tleftArm = new EZII3DStickManArm();\n\t\trightArm = new EZII3DStickManArm();\n\t\n\t\trightShoulderHolder = new EZII3DStickManShoulderHolder();\n\t\tleftShoulderHolder = new EZII3DStickManShoulderHolder();\n\t}\n\n\n\tclass EZII3DStickManShoulderHolder {\n\t\teZii3dCuboid = new EZII3DCuboid(10, 10, 10);\n\t}\n\n\n\tclass EZII3DStickManLegs {\n\t\tleftLeg = new EZII3DStickManLeg();\n\t\trightLeg = new EZII3DStickManLeg();\n\t}\n\n\n\tclass EZII3DStickManLeg {\n\t\teZii3dCuboid = new EZII3DCuboid(15, 100, 10);\n\t\n\t}\n\n\n\tclass EZII3DStickManArm {\n\t\teZii3dCuboid = new EZII3DCuboid(10, 75, 7, true);\n\t\n\t\tshoulderSphere = new EZII3DCuboid(10, 10, 10, true);\n\t\n\t\teZii3dGroup = new THREE.Group();\n\t\n\t\ttiltUpwards() {\n\t\t\tthis.eZii3dGroup.rotateX(1);\n\t\t}\n\t\n\t\ttiltDownwards() {\n\t\t\tthis.eZii3dGroup.rotateX(-1);\n\t\t\t// window.currentlySelectedObject.position.z += 20;\n\t\t}\n\t\n\t\n\t\tbeforeFinishedRendering() {\n\t\t\n\t\t\tthis.shoulderSphere.threeJsMesh.material.color.setHex(0xff0000);\n\t\t\tthis.eZii3dGroup.add(this.eZii3dCuboid.threeJsMesh);\n\t\t\tthis.eZii3dGroup.add(this.shoulderSphere.threeJsMesh);\n\t\t\n\t\t\tlet fountain = fountainGetter();\n\t\t\t\n\t\t\tfountain.eZii3dStickManThreeJsGroup.add(this.eZii3dGroup);\n\t\t}\n\t\n\t\n\t\tposition(xDirection) {\n\t\t\t// positioning of arms is done in the 3dStickMaan class atm [ƒ: position()]\n\t\t\tthis.shoulderSphere.threeJsMesh.position.x += 30 * xDirection\n\t\t}\n\t\n\t\tconstructor() {\n\t\t\n\t\t\tthis.threeJsScene = window.threeJsScene // ladder((main) => { this.threeJsScene = main.scene }\n\t\t\tthis.beforeFinishedRendering();\n\t\t\n\t\t\n\t\t\tthis.addClickHandler();\n\t\t}\n\t\n\t\taddClickHandler() {\n\t\t\tthis.eZii3dCuboid.threeJsMesh.on('click', (evt) => {\n\t\t\t\t// alert('test');\n\t\t\t\twindow.currentlySelectedObject = this;\n\t\t\t\tthis.eZii3dCuboid.threeJsMesh.material.color.setHex(0x0000ff);\n\t\t\t});\n\t\t}\n\t}\n\n\n\treturn EZII3DStickMan;\n})\n\n\nexport default EZII3DStickMan;\n\n"]},"metadata":{},"sourceType":"module"}