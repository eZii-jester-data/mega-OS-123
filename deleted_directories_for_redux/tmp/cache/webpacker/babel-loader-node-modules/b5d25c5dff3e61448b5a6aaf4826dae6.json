{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports[\"default\"] = function (element, config, query, onError) {\n  var selectorMaxLength = config.selectorMaxLength;\n  return function (state) {\n    var validated = false;\n    var selector = void 0;\n    var results = void 0;\n\n    for (var depth = 1; depth <= state.stack.length && !validated; depth += 1) {\n      // use selector to query an element and see if it is a one-to-one selection\n      selector = (0, _convertSelectorStateIntoCSSSelector2[\"default\"])(state, depth).trim();\n\n      if (!(selector && selector.length)) {\n        // too short\n        return false;\n      }\n\n      if (selectorMaxLength && selector.length > selectorMaxLength) {\n        // the selector is too long\n        return false;\n      }\n\n      results = query(selector, onError);\n      validated = results.length === 1 && (element.el !== undefined ? results[0] === element.el : results[0] === element); // we have to mark how deep the valdiation passed at\n\n      if (validated) {\n        state.verificationDepth = depth;\n      }\n    }\n\n    return validated;\n  };\n};\n\nvar _convertSelectorStateIntoCSSSelector = require('./convertSelectorStateIntoCSSSelector');\n\nvar _convertSelectorStateIntoCSSSelector2 = _interopRequireDefault(_convertSelectorStateIntoCSSSelector);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}","map":null,"metadata":{},"sourceType":"module"}